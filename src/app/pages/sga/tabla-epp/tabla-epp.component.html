<div class="ficha-card">
  <div class="ficha-table">
    <!-- Nombre del producto / Proveedor -->
    <div class="row">
      <div class="cell label">Nombre del producto:</div>
      <div class="cell value">
        <div class="split">
          <div class="left"><b>{{ ficha.productName }}</b></div>
          <div class="right muted"><b>Proveedor:</b> {{ ficha.supplier }}</div>
        </div>
      </div>
    </div>

    <!-- RNPQ -->
    <div class="row alt">
      <div class="cell label">RNPQ:</div>
      <div class="cell value">{{ ficha.rnpq || '' }}</div>
    </div>

    <!-- EPP (íconos azules) -->
    <div class="row">
      <div class="cell label">Elementos de Protección Personal (EPP):</div>
      <div class="cell value">
        <div class="epp-icons">
          <ng-container *ngFor="let i of ficha.epp">
            <span class="epp">
              <svg class="disc" viewBox="0 0 100 100" aria-hidden="true">
                <circle cx="50" cy="50" r="46" fill="#117ad1"/>
              </svg>

              <!-- Gafas -->
               <svg *ngIf="i==='gafas'" class="glyph" width="512" height="512" viewBox="0 0 512 512" fill="#000000">
                <path fill="#fff" d="M464 184h-10.9a78.72 78.72 0 0 0-16-7.18C419.5 171 396.26 168 368 168s-51.5 3-69.06 8.82c-14.06 4.69-20.25 9.86-22.25 11.87a47.94 47.94 0 0 0-41.36 0c-2-2-8.19-7.18-22.25-11.87C195.5 171 172.26 168 144 168s-51.5 3-69.06 8.82a78.72 78.72 0 0 0-16 7.18H48a16 16 0 0 0 0 32h.17c1 45.46 6.44 72.78 18.11 92.23a66.78 66.78 0 0 0 31.92 28c12.23 5.24 27.22 7.79 45.8 7.79c24.15 0 58.48-3.71 77.72-35.77c9.68-16.14 15.09-37.69 17.21-70.52A16 16 0 0 0 240 232a16 16 0 0 1 32 0a16 16 0 0 0 1.07 5.71c2.12 32.83 7.53 54.38 17.21 70.52a66.78 66.78 0 0 0 31.92 28c12.23 5.24 27.22 7.79 45.8 7.79c24.15 0 58.48-3.71 77.72-35.77c11.67-19.45 17.13-46.77 18.11-92.23h.17a16 16 0 0 0 0-32Z"/></svg>


              <!-- Guantes -->
               <svg *ngIf="i==='guantes'" class="glyph"  width="512" height="512" viewBox="0 0 512 512" fill="#000000">
                <path fill="#fff" d="M245.975 26c-85.496 0-154.808 69.301-154.82 154.797v118.63h15.261c40.814 0 73.9 33.087 73.9 73.901v5.715h13.477a65.67 65.67 0 0 1-4.332-23.354c.477-36.417 30.136-65.689 66.557-65.689c36.42 0 66.079 29.272 66.556 65.69a65.654 65.654 0 0 1-4.334 23.308h13.5v-5.717c.007-40.802 33.076-73.881 73.88-73.9h15.226V180.797C420.833 95.31 351.534 26.013 266.046 26h-20.071zM180.52 165.896a55.573 55.573 0 0 1 22.11 4.231c20.798 8.613 34.36 28.91 34.36 51.422c.006 30.736-24.909 55.656-55.645 55.656c-22.512.005-42.812-13.553-51.43-34.35c-8.618-20.796-3.856-44.736 12.06-60.656a55.646 55.646 0 0 1 38.545-16.303zm146.526.047a55.54 55.54 0 0 1 22.096 4.223c20.788 8.604 34.348 28.884 34.357 51.383c.006 30.736-24.908 55.656-55.645 55.656c-22.498-.005-42.78-13.56-51.388-34.346c-8.609-20.786-3.849-44.71 12.058-60.62a55.622 55.622 0 0 1 38.522-16.296zm-71.002 140.514a48.581 48.581 0 0 0-34.35 82.932a48.58 48.58 0 0 0 82.932-34.35h-.045c0-26.813-21.724-48.557-48.537-48.582zM256 318a16 16 0 0 1 16 16a16 16 0 0 1-16 16a16 16 0 0 1-16-16a16 16 0 0 1 16-16zm-18 34a16 16 0 0 1 16 16a16 16 0 0 1-16 16a16 16 0 0 1-16-16a16 16 0 0 1 16-16zm36 0a16 16 0 0 1 16 16a16 16 0 0 1-16 16a16 16 0 0 1-16-16a16 16 0 0 1 16-16zm-68.535 46.773l.01.034c-.012-.035 1.943 18.084 1.943 18.084h23.103a67.155 67.155 0 0 1-25.056-18.118zm101.06 0l-.004.038l.004-.004v-.034zm-.004.038a67.163 67.163 0 0 1-25.042 18.08h23.103c1.94-18.047.016-.147 1.94-18.08zm-99.103 34.322v18.289h97.164v-18.29h-97.164zm0 34.578V486h97.164v-18.29h-97.164z"/></svg>

              <!-- Respirador -->
            <svg *ngIf="i==='respirador'" class="glyph" width="512" height="512" viewBox="0 0 24 24" fill="#000000">
              <g fill="#000000">
                <path fill="#fff" d="M18.445 13.613a4.6 4.6 0 0 1-3.825 3.83L15 22H9l.398-4.778A3.835 3.835 0 0 1 7 13.667V5.5a1 1 0 1 1 2 0v4h.5v-5a1 1 0 1 1 2 0v5h.5v-6a1 1 0 1 1 2 0v6h.5V3a1 1 0 1 1 2 0v6.011c.002.558.118.86.228 1.014c.1.14.215.188.333.195a.68.68 0 0 0 .407-.12a.36.36 0 0 0 .131-.136l.002-.002v.005h.001l.454-1.297a1 1 0 0 1 1.888.66z"/>
                <path fill="#fff" d="M6 14V6H4v8c0 1.525.61 2.728 1.191 3.526c.193.265.498.49.746.674c.126.094.238.177.313.249v.004L6 21h2l.25-3.25l-.646-.547l-.006-.005l-.041-.033a5 5 0 0 1-.748-.815C6.389 15.771 6 14.974 6 14"/></g></svg>
            </span>
          </ng-container>
        </div>
      </div>
    </div>

    <!-- Sección "Componentes Químicos" -->
    <div class="row section">
      <div class="cell section-header">Componentes Químicos</div>
    </div>

    <!-- Subtabla -->
    <div class="row">
      <div class="cell label sublabel">Componente</div>
      <div class="cell value">
        <table class="subtable">
          <thead>
            <tr>
              <th>Componente</th>
              <th>Cas</th>
              <th>Porcentaje</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let c of ficha.componentes; let idx = index" [class.alt]="idx % 2 === 1">
              <td>{{ c.nombre }}</td>
              <td>{{ c.cas }}</td>
              <td>{{ c.porcentaje }}</td>
            </tr>
            <tr *ngIf="!ficha.componentes?.length">
              <td colspan="3" class="empty">Sin componentes informados.</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

  </div>
</div>
